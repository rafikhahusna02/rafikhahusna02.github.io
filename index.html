<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Perpustakaan Digital Rafikha</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #ffe4e1;
      opacity: 0;
      animation: fadeIn 1s forwards;
    }

    body.dark-mode {
      background-color: #1e1e1e;
      color: #ffffff;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    header {
      background-color: #d291bc;
      color: white;
      text-align: center;
      padding: 20px;
      animation: bounce 1.5s ease-in-out;
    }

    header.dark-mode {
      background-color: #3c3c3c;
    }

    nav {
      display: flex;
      justify-content: center;
      background-color: #e6a4b4;
      padding: 10px;
      flex-wrap: wrap; /* Menambahkan flex-wrap untuk responsivitas */
    }

    nav a {
      color: white;
      text-decoration: none;
      padding: 10px 20px;
      display: inline-block;
      transition: transform 0.3s ease;
    }

    nav a:hover {
      background-color: #ffb6c1;
      border-radius: 5px;
      animation: wiggle 0.5s ease-in-out;
    }

    .container {
      padding: 20px;
      text-align: center;
    }

    .card {
      background-color: white;
      padding: 20px;
      margin: 10px auto;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(255, 182, 193, 0.5);
      width: 60%;
      transition: transform 0.2s;
    }

    .card.dark-mode {
      background-color: #2c2c2c;
      box-shadow: 0 0 10px rgba(255, 255, 255, 0.2);
    }

    .search-box {
      padding: 10px;
      width: 80%;
      max-width: 400px;
      margin: 30px auto;
      display: block;
      border-radius: 5px;
      border: 1px solid #ccc;
    }

    .book-grid {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
    }

    .book-card {
      background-color: white;
      border-radius: 10px;
      box-shadow: 0 0 8px rgba(0,0,0,0.1);
      width: 250px;
      padding: 10px;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      cursor: pointer;
    }

    .book-card.dark-mode {
      background-color: #3c3c3c;
      box-shadow: 0 0 8px rgba(255, 255, 255, 0.2);
    }

    .book-card img {
      width: 100%;
      border-radius: 10px;
      height: auto;
    }

    .book-title {
      font-weight: bold;
      margin-top: 10px;
    }

    footer {
      background-color: #d291bc;
      color: white;
      text-align: center;
      padding: 10px;
      margin-top: 20px;
    }

    footer.dark-mode {
      background-color: #3c3c3c;
    }

    .cookie-consent {
      position: fixed;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      background-color: #1e293b;
      color: white;
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
      max-width: 400px;
      z-index: 10000;
      text-align: center;
      display: none;
    }

    .cookie-btn {
      padding: 10px 20px;
      margin: 0 10px;
      border: none;
      border-radius: 10px;
      font-weight: bold;
      cursor: pointer;
    }

    .cookie-accept {
      background-color: #22c55e;
      color: white;
    }

    .cookie-reject {
      background-color: #ef4444;
      color: white;
    }

    .dark-mode-toggle {
      margin: 20px;
      padding: 10px 20px;
      background-color: #d291bc;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    .dark-mode-toggle:hover {
      background-color: #ffb6c1;
    }

    .history-title {
      margin-top: 30px;
      font-size: 1.5em;
    }

    .history-list {
      list-style-type: none;
      padding: 0;
    }

    .history-list li {
      background-color: #f0f0f0;
      margin: 5px 0;
      padding: 10px;
      border-radius: 5px;
    }

    .history-list li.dark-mode {
      background-color: #444;
    }

    /* Media Queries for Responsiveness */
    @media (max-width: 600px) {
      .card {
        width: 90%; /* Lebar card lebih besar di perangkat kecil */
      }

      .book-card {
        width: 100%; /* Lebar book card penuh di perangkat kecil */
      }

      nav a {
        padding: 5px 10px; /* Mengurangi padding untuk navigasi */
      }

      .history-title {
        font-size: 1.2em; /* Ukuran font lebih kecil di perangkat kecil */
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>üìö Perpustakaan Digital Rafikha üìñ</h1>
    <p>Membaca Tanpa Batas üöÄ</p>
  </header>

  <nav>
    <a href="index.html">üè† Beranda</a>
    <a href="about-me.html">üôã Tentang Saya</a>
    <a href="contact-me.html">üì© Kontak</a>
  </nav>

  <div class="container">
    <button class="dark-mode-toggle" onclick="toggleDarkMode()">üåô Dark Mode</button>
    <div class="card">
      <h2>üéâ Selamat Datang! üéâ</h2>
      <p>Hai! Perkenalkan nama saya Rafikha Husna. Saya mahasiswa Program Studi Perpustakaan dan Sains Informasi di Universitas Sumatera Utara. Website ini dibuat sebagai bagian dari tugas Mata Kuliah Pengembangan Web dengan tujuan melatih keterampilan dalam merancang, membangun, dan mengelola situs web secara efisien.</p>
    </div>

    <input type="text" id="searchInput" class="search-box" placeholder="üîç Cari judul buku..." onkeyup="filterBooks()">

    <h2>üìò Daftar Koleksi Buku</h2>
    <div class="book-grid">
      <div class="book-card" onclick="markAsRead('A Practical English Grammar')">
        <img src="https://perpustakaan.binadarma.ac.id/uploaded_files/sampul_koleksi/original/Monograf/1752.jpg" alt="A Practical English Grammar">
        <p class="book-title">A Practical English Grammar</p>
        <p>Oleh A. J. Thomson & A. V. Martinet</p>
        <p>Tahun rilis: 1986</p>
        <a href="https://taxuna.wordpress.com/wp-content/uploads/2015/11/a-practical-english-gramar-a-j-thomson.pdf" target="_blank" onclick="alertToEbook()">üì• Baca eBook</a>
      </div>

      <div class="book-card" onclick="markAsRead('Laskar Pelangi')">
        <img src="https://upload.wikimedia.org/wikipedia/id/8/8e/Laskar_pelangi_sampul.jpg" alt="Laskar Pelangi">
        <p class="book-title">Laskar Pelangi</p>
        <p>Oleh Andrea Hirata</p>
        <p>Tahun rilis: 2005</p>
        <a href="https://smpn32.semarangkota.go.id/e-perpus/index.php?p=fstream&fid=2&bid=773" target="_blank" onclick="alertToEbook()">üì• Baca eBook</a>
      </div>

      <div class="book-card" onclick="markAsRead('Listen to My Heartbeat')">
        <img src="https://inc.mizanstore.com/aassets/img/com_cart/produk/covBE-085.jpg" alt="Listen to My Heartbeat">
        <p class="book-title">Listen to My Heartbeat</p>
        <p>Oleh Arumi E.</p>
        <p>Tahun rilis: 2017</p>
        <a href="https://fliphtml5.com/lafpb/qxtl/Listen_to_My_Heartbeat_-_Arumi_E/" target="_blank" onclick="alertToEbook()">üì• Baca eBook</a>
      </div>
    </div>

    <h2 class="history-title">üìö Riwayat Buku yang Dibaca</h2>
    <ul id="readHistory" class="history-list"></ul>

    <p><a href="https://library.usu.ac.id/" target="_blank">üîó Kunjungi Perpustakaan USU</a></p>
  </div>

  <footer>
    <p>&copy; 2025 Perpustakaan Digital Rafikha üìñ‚ú®</p>
  </footer>

  <!-- Cookie Consent -->
  <div class="cookie-consent" id="cookieConsent">
    <p>
      Kami menggunakan cookies untuk meningkatkan pengalaman Anda di situs ini. Dengan mengklik "Terima Semua", Anda menyetujui penggunaan cookies kami. Anda juga dapat memilih untuk menolak cookies non-essensial.
    </p>
    <button class="cookie-btn cookie-accept" onclick="acceptCookies()">Terima Semua</button>
    <button class="cookie-btn cookie-reject" onclick="rejectCookies()">Tolak</button>
  </div>

  <script>
    function alertToEbook() {
      alert("Anda akan dibawa ke eBook!");
    }

    function startConfetti() {
      playBeautifulSound();
      const confettiContainer = document.createElement("div");
      confettiContainer.classList.add("confetti-container");
      document.body.appendChild(confettiContainer);
      for (let i = 0; i < 50; i++) {
        let confetti = document.createElement("div");
        confetti.classList.add("confetti");
        confetti.style.left = Math.random() * 100 + "vw";
        confetti.style.animationDelay = Math.random() * 2 + "s";
        confetti.style.setProperty('--rand', Math.random());
        confettiContainer.appendChild(confetti);
      }
      setTimeout(() => {
        confettiContainer.remove();
      }, 5000);
    }

    function playBeautifulSound() {
      let audio = new Audio("https://www.fesliyanstudios.com/play-mp3/4382");
      audio.volume = 0.5;
      audio.play();
    }

    function filterBooks() {
      const input = document.getElementById("searchInput").value.toLowerCase();
      const cards = document.querySelectorAll(".book-card");

      cards.forEach(card => {
        const title = card.querySelector(".book-title").textContent.toLowerCase();
        card.style.display = title.includes(input) ? "block" : "none";
      });
    }

    function toggleDarkMode() {
      const body = document.body;
      const header = document.querySelector('header');
      const footer = document.querySelector('footer');
      const cards = document.querySelectorAll('.card, .book-card');

      body.classList.toggle('dark-mode');
      header.classList.toggle('dark-mode');
      footer.classList.toggle('dark-mode');
      cards.forEach(card => card.classList.toggle('dark-mode'));

      localStorage.setItem('darkMode', body.classList.contains('dark-mode'));
    }

    function checkDarkMode() {
      const darkMode = localStorage.getItem('darkMode') === 'true';
      if (darkMode) {
        toggleDarkMode();
      }
    }

    function markAsRead(bookTitle) {
      const readHistory = JSON.parse(localStorage.getItem('readHistory')) || [];
      if (!readHistory.includes(bookTitle)) {
        readHistory.push(bookTitle);
        localStorage.setItem('readHistory', JSON.stringify(readHistory));
        displayReadHistory();
      }
    }

    function displayReadHistory() {
      const readHistory = JSON.parse(localStorage.getItem('readHistory')) || [];
      const historyList = document.getElementById('readHistory');
      historyList.innerHTML = '';
      readHistory.forEach(book => {
        const li = document.createElement('li');
        li.textContent = book;
        if (document.body.classList.contains('dark-mode')) {
          li.classList.add('dark-mode');
        }
        historyList.appendChild(li);
      });
    }

    function checkCookieConsent() {
      const consent = localStorage.getItem("cookieConsent");
      if (!consent) {
        document.getElementById("cookieConsent").style.display = "block";
      }
    }

    function acceptCookies() {
      localStorage.setItem("cookieConsent", "accepted");
      document.getElementById("cookieConsent").style.display = "none";
    }

    function rejectCookies() {
      localStorage.setItem("cookieConsent", "rejected");
      document.getElementById("cookieConsent").style.display = "none";
    }

    window.onload = function () {
      checkDarkMode();
      checkCookieConsent();
      displayReadHistory();
      startConfetti();
    };
  </script>
</body>
</html>
