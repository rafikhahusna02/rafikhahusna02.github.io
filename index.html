<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Perpustakaan Digital Rafikha</title>
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-image: url('https://images.unsplash.com/photo-1702974915123-16739a9c3577?q=80&w=2070&auto=format&fit=crop');
      background-size: cover;
      background-attachment: fixed;
      background-position: center;
      color: #333;
      opacity: 1;
      transition: opacity 1s ease-in-out;
    }

    body.dark-mode {
      background-color: #1e1e1e;
      background-image: none;
      color: #fff;
    }

    header, footer {
      background-color: rgba(255, 255, 255, 0.8);
      text-align: center;
      padding: 20px;
      backdrop-filter: blur(6px);
      transition: background-color 0.3s ease;
    }

    header.dark-mode, footer.dark-mode {
      background-color: #2c2c2c;
    }

    nav {
      display: flex;
      justify-content: center;
      background-color: rgba(255, 255, 255, 0.8);
      backdrop-filter: blur(4px);
      padding: 10px;
      gap: 20px;
      flex-wrap: wrap;
    }

    nav a {
      color: #333;
      text-decoration: none;
      font-weight: bold;
    }

    nav a:hover {
      text-decoration: underline;
    }

    .container {
      padding: 20px;
      background-color: rgba(255, 255, 255, 0.9);
      margin: 20px;
      border-radius: 10px;
    }

    .dark-mode .container {
      background-color: #2c2c2c;
    }

    .dark-mode nav a {
      color: white;
    }

    .search-box {
      width: 100%;
      max-width: 400px;
      padding: 10px;
      margin: 20px auto;
      display: block;
      border-radius: 5px;
      border: 1px solid #ccc;
    }

    .book-grid {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
    }

    .book-card {
      background-color: white;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      width: 250px;
      padding: 10px;
      text-align: center;
      transition: transform 0.3s ease, opacity 1s ease;
    }

    .book-card:hover {
      transform: scale(1.03);
    }

    .book-card img {
      width: 100%;
      border-radius: 10px;
    }

    .book-title {
      font-weight: bold;
      margin-top: 10px;
    }

    .book-card.dark-mode {
      background-color: #444;
      color: white;
    }

    .dark-mode-toggle {
      padding: 10px 20px;
      background-color: #555;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      margin-bottom: 20px;
    }

    .history-list {
      list-style: none;
      padding: 0;
    }

    .history-list li {
      background: #f0f0f0;
      margin: 5px 0;
      padding: 10px;
      border-radius: 5px;
    }

    .dark-mode .history-list li {
      background: #444;
      color: white;
    }

    .cookie-consent {
      position: fixed;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      background-color: #1e293b;
      color: white;
      padding: 20px;
      border-radius: 10px;
      max-width: 400px;
      z-index: 10000;
      display: none;
    }

    .cookie-btn {
      padding: 10px 20px;
      margin: 10px 5px 0;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    .cookie-accept {
      background-color: #22c55e;
      color: white;
    }

    .cookie-reject {
      background-color: #ef4444;
      color: white;
    }

    .welcome-card {
      text-align: center;
      background-color: #e0f2fe;
      padding: 20px;
      border-radius: 10px;
      margin-bottom: 30px;
    }

    .dark-mode .welcome-card {
      background-color: #1e293b;
      color: white;
    }

    .login-form {
      max-width: 400px;
      margin: 0 auto 30px;
      padding: 20px;
      border: 1px solid #ccc;
      border-radius: 10px;
      background-color: #f9f9f9;
    }

    .login-form input {
      width: 100%;
      margin-bottom: 10px;
      padding: 10px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }

    .login-form button {
      width: 100%;
      padding: 10px;
      background-color: #0ea5e9;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    .dark-mode .login-form {
      background-color: #334155;
      border-color: #555;
    }

    .dark-mode .login-form input {
      background-color: #1e293b;
      color: white;
      border-color: #444;
    }

    @media (max-width: 600px) {
      .book-card {
        width: 100%;
      }

      nav {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>📚 Perpustakaan Digital Rafikha 📖</h1>
    <p>Membaca Tanpa Batas 🚀</p>
  </header>

  <nav>
    <a href="index.html">🏠 Beranda</a>
    <a href="about-me.html">🙋 Tentang Saya</a>
    <a href="contact-me.html">📩 Kontak</a>
    <a href="event.html">📅 Event</a>
  </nav>

  <div class="container">
    <button class="dark-mode-toggle" onclick="toggleDarkMode()">🌙 Dark Mode</button>

    <div class="login-form" id="loginForm">
      <h3>🔐 Login</h3>
      <input type="text" id="username" placeholder="Username">
      <input type="password" id="password" placeholder="Password">
      <button onclick="login()">Login</button>
    </div>

    <div class="welcome-card" id="welcomeCard" style="display:none;">
      <h2>🎉 Selamat Datang! 🎉</h2>
      <p>Hai! Perkenalkan nama saya Rafikha Husna. Saya mahasiswa Program Studi Perpustakaan dan Sains Informasi di Universitas Sumatera Utara. Website ini dibuat sebagai bagian dari tugas Mata Kuliah Pengembangan Web dengan tujuan melatih keterampilan dalam merancang, membangun, dan mengelola situs web secara efisien.</p>
    </div>

    <p><a href="https://library.usu.ac.id/" target="_blank">🔗 Kunjungi Perpustakaan USU</a></p>
  </div>

  <input type="text" id="searchInput" class="search-box" placeholder="🔍 Cari judul buku..." onkeyup="filterBooks()">

  <h2>📘 Daftar Koleksi Buku</h2>
  <div class="book-grid">
    <div class="book-card" onclick="markAsRead('A Practical English Grammar')">
      <img src="https://perpustakaan.binadarma.ac.id/uploaded_files/sampul_koleksi/original/Monograf/1752.jpg" alt="A Practical English Grammar">
      <p class="book-title">A Practical English Grammar</p>
      <p>Oleh A. J. Thomson & A. V. Martinet</p>
      <p>Tahun rilis: 1986</p>
      <a href="https://taxuna.wordpress.com/wp-content/uploads/2015/11/a-practical-english-gramar-a-j-thomson.pdf" target="_blank" onclick="alertToEbook()">📥 Baca eBook</a>
    </div>

    <div class="book-card" onclick="markAsRead('Laskar Pelangi')">
      <img src="https://upload.wikimedia.org/wikipedia/id/8/8e/Laskar_pelangi_sampul.jpg" alt="Laskar Pelangi">
      <p class="book-title">Laskar Pelangi</p>
      <p>Oleh Andrea Hirata</p>
      <p>Tahun rilis: 2005</p>
      <a href="https://smpn32.semarangkota.go.id/e-perpus/index.php?p=fstream&fid=2&bid=773" target="_blank" onclick="alertToEbook()">📥 Baca eBook</a>
    </div>

    <div class="book-card" onclick="markAsRead('Listen to My Heartbeat')">
      <img src="https://inc.mizanstore.com/aassets/img/com_cart/produk/covBE-085.jpg" alt="Listen to My Heartbeat">
      <p class="book-title">Listen to My Heartbeat</p>
      <p>Oleh Arumi E.</p>
      <p>Tahun rilis: 2017</p>
      <a href="https://fliphtml5.com/lafpb/qxtl/Listen_to_My_Heartbeat_-_Arumi_E/" target="_blank" onclick="alertToEbook()">📥 Baca eBook</a>
    </div>
  </div>

  <h3>📚 Riwayat Buku yang Dibaca</h3>
  <ul id="readHistory" class="history-list"></ul>

  <footer>
    <p>&copy; 2025 Perpustakaan Digital Rafikha 📖✨</p>
  </footer>

  <div class="cookie-consent" id="cookieConsent">
    <p>Kami menggunakan cookies untuk meningkatkan pengalaman Anda di situs ini.</p>
    <button class="cookie-btn cookie-accept" onclick="acceptCookies()">Terima Semua</button>
    <button class="cookie-btn cookie-reject" onclick="rejectCookies()">Tolak</button>
  </div>

  <script>
    function alertToEbook() {
      alert("Anda akan dibawa ke eBook!");
    }

    function toggleDarkMode() {
      document.body.classList.toggle('dark-mode');
      document.querySelector('header').classList.toggle('dark-mode');
      document.querySelector('footer').classList.toggle('dark-mode');
      document.querySelectorAll('.book-card').forEach(c => c.classList.toggle('dark-mode'));
      document.querySelector('.container').classList.toggle('dark-mode');
      localStorage.setItem('darkMode', document.body.classList.contains('dark-mode'));
    }

    function checkDarkMode() {
      if (localStorage.getItem('darkMode') === 'true') {
        toggleDarkMode();
      }
    }

    function filterBooks() {
      const input = document.getElementById("searchInput").value.toLowerCase();
      const cards = document.querySelectorAll(".book-card");
      cards.forEach(card => {
        const title = card.querySelector(".book-title").textContent.toLowerCase();
        card.style.display = title.includes(input) ? "block" : "none";
      });
    }

    function markAsRead(bookTitle) {
      const readHistory = JSON.parse(localStorage.getItem('readHistory')) || [];
      if (!readHistory.includes(bookTitle)) {
        readHistory.push(bookTitle);
        localStorage.setItem('readHistory', JSON.stringify(readHistory));
        displayReadHistory();
      }
    }

    function displayReadHistory() {
      const readHistory = JSON.parse(localStorage.getItem('readHistory')) || [];
      const list = document.getElementById("readHistory");
      list.innerHTML = "";
      readHistory.forEach(book => {
        const li = document.createElement("li");
        li.textContent = book;
        list.appendChild(li);
      });
    }

    function checkCookieConsent() {
      const consent = localStorage.getItem("cookieConsent");
      if (!consent) {
        document.getElementById("cookieConsent").style.display = "block";
      }
    }

    function acceptCookies() {
      localStorage.setItem("cookieConsent", "accepted");
      document.getElementById("cookieConsent").style.display = "none";
    }

    function rejectCookies() {
      localStorage.setItem("cookieConsent", "rejected");
      document.getElementById("cookieConsent").style.display = "none";
    }

    function login() {
      const username = document.getElementById("username").value.trim();
      const password = document.getElementById("password").value.trim();
      if (username === "rafikha" && password === "12345") {
        alert("Login berhasil! Selamat datang, " + username);
        document.getElementById("loginForm").style.display = "none";
        document.getElementById("welcomeCard").style.display = "block";
      } else {
        alert("Login gagal! Username atau password salah.");
      }
    }

    window.onload = function () {
      checkDarkMode();
      checkCookieConsent();
      displayReadHistory();
    };
  </script>
</body>
</html>
